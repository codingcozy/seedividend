(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{2862:function(t,e,a){"use strict";var o=a(5893);a(7294);var n=a(8896),r=a.n(n),s=a(7166),i=a.n(s),c=a(4696),d=a(1163),l=a(9008),_=a.n(l);i().bind(r());let u=t=>{let{type:e,post:a,project:n}=t,r=(0,d.useRouter)();return"post"===e&&a?(0,o.jsxs)(_(),{children:[(0,o.jsx)("title",{children:"".concat(a.title," | ").concat(c.px)}),(0,o.jsx)("meta",{name:"description",content:a.description}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:site_name",content:"".concat(a.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:title",content:"".concat(a.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:description",content:a.description,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:image",content:a.ogImage.url,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:locale",content:c.l$.ko,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:domain",content:"https://".concat(c.px,".github.io/"),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:title",content:"".concat(a.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:description",content:a.description,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:image",content:a.ogImage.url,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:data1",content:"Dev | ".concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"article:published_time",content:a.date,"data-gatsby-head":"true"})]}):"project"===e&&n?(0,o.jsxs)(_(),{children:[(0,o.jsx)("title",{children:"".concat(n.title," | ").concat(c.px)}),(0,o.jsx)("meta",{name:"description",content:n.description}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:site_name",content:"".concat(n.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:title",content:"".concat(n.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:description",content:n.description,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:image",content:n.ogImage.url,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:locale",content:c.l$.ko,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:domain",content:"https://".concat(c.px,"/"),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:title",content:"".concat(n.title," | ").concat(c.px),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:description",content:n.description,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:image",content:n.ogImage.url,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"article:published_time",content:n.date,"data-gatsby-head":"true"})]}):(0,o.jsxs)(_(),{children:[(0,o.jsx)("title",{children:c.px}),(0,o.jsx)("meta",{name:"description",content:c.vk.ko}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:site_name",content:c.px,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:title",content:c.px,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:description",content:c.vk.ko,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:image",content:"/favicons/ms-icon-310x310.png","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"og:locale",content:c.l$.ko,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:domain",content:"https://".concat(c.px,"/"),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{property:"twitter:url",content:"".concat(c._O,"/").concat(r.asPath),"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:title",content:c.px,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:description",content:c.vk.ko,"data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:image",content:"/favicons/ms-icon-310x310.png","data-gatsby-head":"true"}),(0,o.jsx)("meta",{name:"twitter:data1",content:"Dev | ".concat(c.px),"data-gatsby-head":"true"})]})};e.Z=u},2670:function(t,e,a){"use strict";a.d(e,{Z:function(){return v}});var o=a(5893),n=a(7294),r=a(1664),s=a.n(r),i=a(7166),c=a.n(i),d=a(6179),l=a.n(d),_=a(8932),u=a(3600),p=a(7407),h=a(1446),m=a(6605),g=a(8158),x=a(8043),y=a(545);async function b(t){let e=await (0,y.l)().use(u.Z).use(m.Z).use(p.Z,{allowDangerousHtml:!0}).use(x.Z).use(_.Z,{target:["_blank"]}).use(h.Z).use(g.Z).process(t);return e.toString()}var j=a(4696);let f=c().bind(l());function v(t){let{initialTitle:e="",initialContent:a="",initialCategory:r="",initialDescription:i="",initialCoverImage:c="",initialTags:d="",categoryList:l=[],onSubmit:_,submitButtonText:u,isSubmitting:p}=t,[h,m]=(0,n.useState)(e),[g,x]=(0,n.useState)(a),[y,v]=(0,n.useState)(r||l[0]||""),[w,E]=(0,n.useState)(i),[P,N]=(0,n.useState)(c),[S,k]=(0,n.useState)(d),[C,O]=(0,n.useState)(""),[D,I]=(0,n.useState)(!1),[R,T]=(0,n.useState)(""),[Z,W]=(0,n.useState)(0),[L,Q]=(0,n.useState)(!1),[H,J]=(0,n.useState)(""),[K,F]=(0,n.useState)(!1),[U,Y]=(0,n.useState)({x:0,y:0}),z=(0,n.useRef)(null);(0,n.useRef)(null);let B=(0,n.useRef)(null),M=(0,n.useRef)(null);(0,n.useRef)(!1);let X=(0,n.useRef)(null);(0,n.useEffect)(()=>{let t=async()=>{try{let t=await b(g);T(t)}catch(t){console.error("마크다운 변환 오류:",t)}};t()},[g]);let A=t=>{let e=M.current;if(e){let o=e.querySelectorAll("*");if(o.length>0)for(let n=0;n<o.length;n++){var a;if(console.log(o[n].textContent),null===(a=o[n].textContent)||void 0===a?void 0:a.includes(t)){let t=o[n].getBoundingClientRect(),a=e.getBoundingClientRect(),r=t.top-a.top+e.scrollTop-200;e.scrollTo({top:r,behavior:"smooth"});break}}}},G=t=>{var e;let a=t.target,o=a.selectionStart,n=a.value;if(""===n.trim())return;let r=n.lastIndexOf("\n",o-1)+1,s=n.indexOf("\n",o),i=n.substring(r,-1===s?n.length:s);console.log(i),A(i.replace(/-/g,"").replace(/#/g,"").trim())},V=t=>{let e=t.currentTarget,a=e.selectionStart,o=e.value,n=o.lastIndexOf("\n",a-1)+1,r=o.indexOf("\n",a);-1===r&&(r=o.length),e.setSelectionRange(n,r);let s=o.substring(n,r);J(s);let i=Math.min(t.clientX,window.innerWidth-140-20),c=parseInt(getComputedStyle(e).lineHeight)||20,d=t.clientY+c/2;Y({x:i,y:d}),F(!0)};(0,n.useEffect)(()=>{let t=t=>{X.current&&!X.current.contains(t.target)&&F(!1)};return K&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[K]);let $=async()=>{try{O(""),I(!0);let t=await fetch("http://localhost:3001/api/gpt/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:H})});if(!t.ok)throw Error("이미지 생성에 실패했습니다.");let e=await t.json();if(e.success&&e.data.localPath)ta(e.data.localPath),F(!1);else throw Error("이미지 URL을 가져오지 못했습니다.")}catch(t){console.error("이미지 생성 오류:",t),O(t instanceof Error?t.message:"이미지 생성 중 오류가 발생했습니다.")}finally{I(!1)}},q=async()=>{try{O(""),I(!0);let t=await fetch("http://localhost:3001/api/gpt/generate-detail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({index:H})});if(!t.ok)throw Error("상세 내용 생성에 실패했습니다.");let e=await t.json();if(e.success&&e.data){if(!z.current)return;let t=z.current,a=t.value,o=t.selectionEnd,n=a.substring(0,o),r=a.substring(o),s=n+"\n".concat(e.data,"\n")+r;x(s),F(!1)}else throw Error("상세 내용을 가져오지 못했습니다.")}catch(t){console.error("상세 내용 생성 오류:",t),O(t instanceof Error?t.message:"상세 내용 생성 중 오류가 발생했습니다.")}finally{I(!1)}},tt=async t=>{let e=t.clipboardData,a=e.items,o=e.getData("text");o&&(o.startsWith("http://")||o.startsWith("https://"))&&(o.endsWith(".png")||o.endsWith(".jpg")||o.endsWith(".jpeg")||o.endsWith(".gif"));for(let e=0;e<a.length;e++)if(-1!==a[e].type.indexOf("image")){t.preventDefault();let o=a[e].getAsFile();if(o)try{let t=await te(o);ta(t)}catch(t){O("이미지 업로드 중 오류가 발생했습니다.")}break}},te=async t=>{I(!0);try{let e=new FormData;e.append("image",t);let a=await fetch("http://localhost:3001/api/upload-image",{method:"POST",body:e});if(!a.ok)throw Error("이미지 업로드 실패");let o=await a.json();return o.imageUrl}catch(t){throw console.error("이미지 업로드 오류:",t),t}finally{I(!1)}},ta=t=>{if(!z.current)return;let e=z.current,a=e.selectionEnd,o=e.value.substring(0,a),n=e.value.substring(a),r="![이미지](".concat(t,")");x(o+r+n),setTimeout(()=>{e.focus();let t=a+r.length;e.setSelectionRange(t,t)},0)},to=async t=>{let e=t.target.files;if(e&&0!==e.length)try{let t=await te(e[0]);ta(t)}catch(t){O("이미지 업로드 중 오류가 발생했습니다.")}finally{t.target.value=""}},tn=async()=>{if(!h.trim()){O("제목을 입력해주세요.");return}if(!g.trim()){O("내용을 입력해주세요.");return}try{O(""),await _({title:h,content:g,category:y,description:w,coverImage:P,tags:S})}catch(t){console.error("폼 제출 오류:",t),O(t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.")}},tr=async()=>{if(""===h.trim()){O("목차 생성을 위해 제목을 입력해주세요.");return}try{Q(!0),O("");let t=await fetch("http://localhost:3001/api/gpt/generate-index",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:h})});if(!t.ok)throw Error("목차 생성에 실패했습니다.");let e=await t.json();if(e.success&&e.data){let t="## 목차\n".concat(e.data,"\n\n").concat(g);x(t)}else throw Error("목차 데이터를 가져오지 못했습니다.")}catch(t){console.error("목차 생성 오류:",t),O(t instanceof Error?t.message:"목차 생성 중 오류가 발생했습니다.")}finally{Q(!1)}};return(0,o.jsxs)("div",{className:f("container"),children:[(0,o.jsxs)("div",{className:f("editor_header_bar"),children:[(0,o.jsx)("div",{className:f("editor_header_left"),children:(0,o.jsx)(s(),{href:"/admin",className:f("logo"),children:"SeedDividend"})}),(0,o.jsxs)("div",{className:f("editor_toolbar"),children:[(0,o.jsx)("input",{type:"file",id:"image-upload",accept:"image/*",style:{display:"none"},onChange:to}),(0,o.jsx)("label",{htmlFor:"image-upload",className:f("toolbar_btn"),children:(0,o.jsx)("span",{className:f("toolbar_icon","image"),children:"\uD83D\uDCF7 이미지 업로드"})})]}),(0,o.jsx)("div",{className:f("editor_header_right"),children:(0,o.jsxs)("button",{className:f("header_action_btn"),children:["기본 모드",(0,o.jsx)("span",{className:f("dropdown_arrow"),children:"▾"})]})})]}),(0,o.jsxs)("div",{className:f("editor_container"),children:[(0,o.jsxs)("div",{className:f("editor_header"),children:[(0,o.jsxs)("div",{className:f("category_select_container"),children:[(0,o.jsx)("select",{value:y,onChange:t=>v(t.target.value),className:f("category_select"),disabled:p,children:l.map(t=>(0,o.jsx)("option",{value:t,children:j.En[t]},t))}),(0,o.jsx)("div",{className:f("select_arrow")})]}),(0,o.jsx)("input",{type:"text",value:h,onChange:t=>m(t.target.value),className:f("title_input"),placeholder:"제목을 입력하세요",disabled:p}),(0,o.jsx)("button",{type:"button",onClick:tr,disabled:L||p||!h.trim(),className:f("index_btn"),children:L?"목차 생성 중...":"목차 생성"})]}),(0,o.jsxs)("div",{className:f("editor_content_container"),children:[(0,o.jsxs)("div",{className:f("editor_body"),ref:B,children:[(0,o.jsx)("textarea",{ref:z,className:f("content_editor",{uploading:D}),value:g,onClick:G,onChange:t=>x(t.target.value),placeholder:"내용을 입력하세요...",disabled:p,onDoubleClick:V,onPaste:tt}),D&&(0,o.jsx)("div",{className:f("upload_overlay"),children:"GPT 응답 대기 중..."}),K&&(0,o.jsxs)("div",{ref:X,className:f("context_menu"),style:{position:"fixed",left:"".concat(U.x+20,"px"),top:"".concat(U.y,"px"),zIndex:1e3},children:[(0,o.jsx)("button",{className:f("context_menu_item"),onClick:q,children:"상세 내용 작성"}),(0,o.jsx)("button",{className:f("context_menu_item"),onClick:$,children:"이미지 생성"})]})]}),(0,o.jsxs)("div",{className:f("preview_container"),children:[(0,o.jsx)("div",{className:f("preview_header"),children:(0,o.jsx)("h3",{children:"미리보기"})}),(0,o.jsx)("div",{className:f("post_content"),ref:M,dangerouslySetInnerHTML:{__html:R}})]})]}),(0,o.jsx)("div",{className:f("editor_footer"),children:(0,o.jsxs)("div",{className:f("editor_tools"),children:[(0,o.jsx)("div",{className:f("tool_buttons"),children:(0,o.jsxs)("button",{className:f("tool_btn"),children:[(0,o.jsx)("span",{className:f("tool_icon"),children:"\uD83D\uDD0D"})," 맞춤법 검사"]})}),(0,o.jsxs)("div",{className:f("action_buttons"),children:[(0,o.jsx)("button",{className:f("draft_btn"),disabled:p,children:"임시저장"}),(0,o.jsx)("button",{className:f("publish_btn"),onClick:tn,disabled:p||D,"aria-busy":p,children:p?"저장 중...":u})]})]})}),C&&(0,o.jsx)("div",{className:f("error_toast"),children:C})]})]})}},7735:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var o=a(7294),n=a(1163);function r(){let t=(0,n.useRouter)(),[e,a]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{t.replace("/"),s(!1)},[t]),{isAuthorized:e,isLoading:r}}},4696:function(t,e,a){"use strict";a.d(e,{En:function(){return c},S7:function(){return s},_O:function(){return r},l$:function(){return o},px:function(){return n},vk:function(){return i}});let o={ko:"ko_KR",en:"en_US",ja:"ja_JP"},n="Seedividend",r="https://seedividend.com/",s="Seedividend",i={ko:"".concat(n," 의 블로그 입니다."),en:"I develop websites, games and apps with HTML, CSS and JS.",ja:"HTML、CSS、JSでウェブサイト、ゲーム、アプリを開発しています。"},c={money:"경제",issue:"이슈",info:"정보"}},8896:function(t){t.exports={section_title:"CustomHead_section_title__QQBnD"}},6179:function(t){t.exports={post_content:"PostEditor_post_content__VjJL5",container:"PostEditor_container__VdkXX",editor_header_bar:"PostEditor_editor_header_bar__J4Y8n",logo:"PostEditor_logo__gzCRN",editor_toolbar:"PostEditor_editor_toolbar__ONDs2",toolbar_btn:"PostEditor_toolbar_btn__P56OP",toolbar_icon:"PostEditor_toolbar_icon___63fE",bold:"PostEditor_bold__m5s_Y",italic:"PostEditor_italic__4NgOu",underline:"PostEditor_underline__GdQr4",strikethrough:"PostEditor_strikethrough__xaYqp",dropdown_arrow:"PostEditor_dropdown_arrow__gl29K",toolbar_divider:"PostEditor_toolbar_divider__cNYB4",toolbar_btn_group:"PostEditor_toolbar_btn_group__GdypF",editor_header_right:"PostEditor_editor_header_right__IjCB4",header_action_btn:"PostEditor_header_action_btn__meLdF",editor_container:"PostEditor_editor_container__etvoI",editor_content_container:"PostEditor_editor_content_container__QKNes",editor_header:"PostEditor_editor_header__AUxu0",category_select_container:"PostEditor_category_select_container__rUaKE",category_select:"PostEditor_category_select__iwI60",select_arrow:"PostEditor_select_arrow__dl_PE",title_input:"PostEditor_title_input__In0uz",editor_body:"PostEditor_editor_body__V0i5A",content_editor:"PostEditor_content_editor__keKUc","drag-over":"PostEditor_drag-over__EI021",uploading:"PostEditor_uploading__a0anN",preview_container:"PostEditor_preview_container__vQxcM",preview_header:"PostEditor_preview_header__88jBQ",preview_title:"PostEditor_preview_title__ZGprs",preview_body:"PostEditor_preview_body__S_V2P",upload_overlay:"PostEditor_upload_overlay__YXWga","editor-image":"PostEditor_editor-image__wWi7L",editor_footer:"PostEditor_editor_footer__2UK0H",tag_input_container:"PostEditor_tag_input_container__u_HzZ",tag_input:"PostEditor_tag_input__Ez0g8",editor_tools:"PostEditor_editor_tools__Z26gS",tool_buttons:"PostEditor_tool_buttons__Yit9E",tool_btn:"PostEditor_tool_btn__NIkK4",tool_icon:"PostEditor_tool_icon__p3Q4t",action_buttons:"PostEditor_action_buttons__yPA0j",draft_btn:"PostEditor_draft_btn__Q1MXh",publish_btn:"PostEditor_publish_btn___6GOw",error_toast:"PostEditor_error_toast__FCzSv",fadeIn:"PostEditor_fadeIn__hK3nC",context_menu:"PostEditor_context_menu__ZIPVW",context_menu_item:"PostEditor_context_menu_item__XQxs8"}}}]);
//# sourceMappingURL=945-b258806a8066046a.js.map