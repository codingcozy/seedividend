---
title: "iOS에서 PWA 우리가 지금 어디에 있는지"
description: ""
coverImage: "/assets/img/2024-05-13-PWAsOniOSWhereWeAreNow_0.png"
date: 2024-05-13 00:17
ogImage: 
  url: /assets/img/2024-05-13-PWAsOniOSWhereWeAreNow_0.png
tag: Tech
originalTitle: "PWAs On iOS: Where We Are Now"
link: "https://medium.com/itnext/pwas-on-ios-where-we-are-now-fe9f7cdbd111"
---


애플이 단 하나의 앱 스토어 대안을 없애려는 노력의 혼란스러운 세부 내용

![이미지](/assets/img/2024-05-13-PWAsOniOSWhereWeAreNow_0.png)

iOS 17.4에서 완전히 막아버리면서 Progressive Web Apps (PWA)에 초토화를 일으킨 애플은 전 세계 개발자들을 좌절시키고 혼란스럽게 만들었습니다. 최근 PWA 지원을 개선한 후에도 그들의 이상한 방향전환 때문뿐만 아니라 애플이 우리에게 남긴 상황이 더욱 놀랍기 때문입니다.

이 기사에서 그 혼란을 해소하기 위해 노력하겠습니다.



## 유럽 연합에서만 해당

애플이 iOS 17.4 베타 1에서 PWA를 망가뜨렸다는 소문이 퍼지자, 혼란스러운 개발자들은 문제가 있는 버전을 실행하는 iPhone 시뮬레이터의 화면 녹화를 공유하기 시작했어요. 거기에서는 여전히 PWAs가 설치되고 문제없이 돌아가고 있었죠.

하지만 EU에서 실제 iPhone을 실행시키면 이러한 상황이 아니었어요.

애플은 DMA 규정을 준수하기 위해 이 변경을 EU에만 제한시켰으며, 지오펜싱을 통해 이를 이룩했어요. SIM 카드를 사용자의 위치를 결정하는 데 사용하며, 소프트웨어 기반 시뮬레이터에는 SIM 카드가 없기 때문에 이 문제가 나타나지 않을 거예요. EU에서 새 iPhone을 SIM 카드 없이 실행하면 PWAs는 여전히 잘 작동하며, 오래된 iPhone의 SIM 카드를 빼서 24시간 동안 비행 모드로 둔 채로도 문제 없이 돌아갈 거라고 보고됐어요.



어쨌든, 문제를 경험하려면 유럽 연합(EU) 국가에 위치한 SIM 카드가 장착된 진짜 아이폰이 필요합니다.

## 설치된 PWA는 이제 책갈피와 같습니다

또 다른 혼란의 요소는 iOS 17.4에서 여전히 웹 앱을 "설치"할 수 있다는 것입니다. 즉, 사용자의 홈 화면에 아이콘이 배치되지만 여기서 끝납니다.

아이콘을 클릭하면 앱이 브라우저 크롬 없이 독립적인 PWA로 열리지 않고 일반 웹사이트처럼 열립니다. 사실, 홈 화면에 추가할 때 PWA가 아닌 웹 사이트는 어떻게 열리는지를 보여줍니다. 즉, "설치된" 웹 앱이 실제로 설치된 것이 아니라 홈 화면에 책갈피로 추가된 것임을 의미합니다.



현재 iOS에서 PWA를 설치할 수 있는 브라우저는 모두 뒷단에서 Webkit 브라우저이므로 이것이 사실입니다.

PWA가 전체 화면 독립형 앱처럼 표시되게 하는 것은 `manifest.json` 파일의 `"display": "standalone"` 속성입니다. `manifest.json` 파일이 없는 웹사이트는 홈 화면에 추가되어 아이콘을 클릭하면 다른 웹사이트처럼 브라우저에서 열립니다. 만약 `manifest.json` 파일에 `"display": "standalone"`이라는 속성이 있다면, iOS 17.4에서는 이것이 간단히 무시되고 PWA가 책갈피로 줄어듭니다.

UI가 완전히 망가지는 것 외에도 중요한 기능이 비활성화됩니다.

## 더 이상 푸시 알림이 없음



애플은 iOS 16.4에서 약 1년 전에 푸시 알림 지원을 추가했어요. 그들의 구현 방식이 최적이 아닌 채로, 푸시 알림은 설치된 PWA에 대해서만 지원되죠.

즉, 스탠드얼론 앱처럼 실행되는 설치된 PWA입니다.

이제 iOS에서 "설치된" 웹 앱은 더 이상 스탠드얼론 앱이 아닌 웹 사이트의 즐겨찾기일 뿐이라 푸시 알림과 배지가 더 이상 지원되지 않아요.

미안해요, 친구야.



## 더 이상 지속적인 저장 공간이 없어요

최근에 Safari에서 iOS에 지속적인 저장 공간이 추가되었지만, 그것은 독립 실행 모드로 실행되는 설치된 PWA에만 해당되므로 해당 기능은 이제 안녕히 려드렸다고 말할 수 있어요.

PWA는 예전에는 7일간 상호 작용되지 않은 웹 앱에 의해 저장된 데이터가 제거된다는 Apple의 제재 정책에서 제외되었지만, 이제 iOS 17.4에서 PWA가 웹사이트 북마크로 변환됨에 따라 더이상 해당되지 않게 되었어요.

이것으로 인해 PWA는 완전히 쓸모없게 되었고, 아마도 Apple이 신중히 PWA를 위해 준비한 가장 큰 낙인일 것입니다.



## 보안 문제?

애플은 비-Webkit 브라우저를 통해 설치된 PWA가 보안 위험이라고 주장합니다. 왜냐하면 iOS는 Webkit 보안 아키텍처를 직접 구축하여 PWA를 지원하며, 이 보안 통합은 카메라에 액세스하려는 앱이 권한 프롬프트를 표시하고 격리된 저장 공간을 제공하는 것을 처리합니다.

iOS에서 비-Webkit 브라우저는 이러한 보안 통합이 없기 때문에 해당 브라우저를 통해 PWA를 설치하는 것은 안전하지 않으며, 사용자의 허락 없이 PWA가 설치되는 결과를 초래할 수 있습니다.

물론 이것은 엉터리입니다. 왜냐하면 애플은 (맥OS에서 수년간 보여온 것처럼) 이러한 통합을 구축할 수 있지만 하고 싶지 않기 때문에 그렇습니다. 이러한 통합을 구축하도록 강제당하지 않기 위해 기술적 연기벽을 세우고 빠져나가려고 노력하지만 (하지만 그렇게 보이지 않습니다).



모든 브라우저의 중요한 핵심 기능 중 하나는 권한과 데이터를 출처별로 분리하는 것이며, 애플이 자사 앱 스토어 독점을 보호하기 위해 만들어낸 것 외에는 보안 문제가 없습니다.

애플은 자사 앱 스토어에 대한 합리적이지 않게 높은 수수료와 임의의 입장 기준에서 자유로운 유일한 대안을 없애려고 하고 있습니다.

그들이 그렇지 않다고 생각하게 속지 마세요.

현대 웹 플랫폼의 새로운 기능, 진행형 웹 앱(PWA), 웹 컴포넌트, 그리고 평이한 영어로 설명된 컨텐츠를 주간으로 업데이트하는 제 이메일 목록 '현대 웹 주간(Morden Web Weekly)'에 가입해주세요!