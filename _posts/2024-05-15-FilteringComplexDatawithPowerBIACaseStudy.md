---
title: "파워 BI로 복잡한 데이터 필터링하기 사례 연구"
description: ""
coverImage: "/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_0.png"
date: 2024-05-15 04:03
ogImage: 
  url: /assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_0.png
tag: Tech
originalTitle: "Filtering Complex Data with Power BI: A Case Study"
link: "https://medium.com/@nedunuriharini263/filtering-complex-data-with-power-bi-a-case-study-8dd7e8b646a4"
---


![2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_0](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_0.png)

시작해 봅시다.

안녕하세요, 데이터 열정가 여러분!

데이터가 제멋대로 안 맞을 때 곤욕을 겪어본 적이 있나요? 제게도 그랬어요. 하지만 문제는 항상 뭔가 새로운 것을 배울 수 있는 기회라고 하죠. 그래서 저의 프로젝트에서 최근에 경험한 요구 사항에 대해 이야기해보려고 해요. Power BI에서 굉장히 고집 센 데이터와 씨름해야 했던 일에 대해 말이죠.



상상해보세요: 클라이언트가 데이터 더미를 전달했는데, 이 데이터는 필터링을 시도해도 혼란스럽다고 느끼게 할 것 같습니다. 이것은 클라이언트의 잘못이 아니에요. 단순히 데이터의 문제일 뿐이죠. 하지만 수동으로 거두기보다는 Power BI의 다양한 기능을 파헤치는 기회로 삼았습니다.

이 블로그 포스트에서는 Power BI에서 데이터 필터링을 탐색하는 과정을 공유할 거에요. 그 과정에서 Power BI를 완전히 새로운 수준에서 이해할 수 있게 도와준 몇 가지 중요한 개념에 대해 소개할 예정이에요.

그래서, 소매 팔뚝을 걷어 올리고, 한 걸음 한 걸음 데이터 필터링 도전에 어떻게 극복했는지 알아보겠습니다.

# 요구 사항 이해하기



일단 보자마자 이 작업은 간단해 보였습니다: Power BI에서 슬라이서를 구현하여 특정 필드를 기반으로 데이터를 필터링하는 것입니다. 슬라이서를 클릭하면 데이터가 적절하게 조정되어 중복 행 없이 제공된 것과 정확히 일치하게 표시되어야 합니다. 간단하죠? 그렇지만, 사실 그렇지 않았습니다. 여기서 재미있는 일이 벌어졌습니다.

# 도전 과제

도전의 핵심은 필터링해야 할 필드의 특성에 있었습니다. 이 필드는 한 행당 하나의 단일 값이 포함되는 대신, 아래 그림에서 보여지는 것처럼 한 행에 여러 값이 포함될 수 있었습니다. 그러면 아마 궁금해 할 것입니다. 이게 문제인 이유는 무엇일까요?

![그림](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_1.png)



첫 번째 난관은 필드를 슬라이서 위로 끌어다 놓으려고 시도했을 때 발생한 당연한 문제였어요. 이게 그 문제죠: 필드에 여러 값을 포함할 수 있기 때문에, 슬라이서가 예상대로 작동하지 않았다는 거죠. 선택할 discrete 옵션을 깔끔하게 표시하는 대신, 값들의 얽힌 혼동스러운 모습이 나왔죠. 말할 필요도 없이, 이것이 내 고객이 원하는 것은 아니었습니다.

슬라이서는 사용자가 선택한 기준에 따라 시각적으로 데이터를 필터링하는 도구로, 차트, 그래프, 또는 테이블과 같은 시각화된 데이터에서 데이터를 상호작용적으로 필터링할 수 있게 해줍니다. 데이터를 잘게 썰고 다루는 사용자 친화적인 방법을 제공하여 사용자가 기존 데이터 모델이나 쿼리를 수정하지 않고도 데이터의 특정 하위 집합에 집중할 수 있게 합니다. 슬라이서는 날짜, 범주, 숫자 범위와 같은 다양한 유형의 데이터 필드에 적용될 수 있으며, 사용자는 슬라이서에서 하나 이상의 값을 선택하여 시각화를 상응하게 필터링할 수 있습니다.

![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_2.png)

다음으로 마주한 어려움은 슬라이서에서 중복되지 않는 값만 표시하는 방법과 동시에 여러 값을 포함하는 행들에서 값을 추출하는 것이었습니다. 몇 가지 아이디어 회의 끝에, 우리가 해결책을 찾았다고 생각했어요: Power BI에서 모든 중복되지 않는 값을 추출하는 별도의 테이블을 만드는 것. 이 접근 방식은 중복되지 않는 값을 제공했지만, 우리의 기대에 미치지 못했어요. 단 하나의 키워드와 정확히 일치하는 행만 보여주고 다른 변형이나 추가 키워드를 포함하는 행은 제외했죠. 또한, 이 새로운 테이블을 어떻게 생성하는지 주의해주지 않으면, 뒤에 더 많은 도전 과제를 안겨줄 수 있습니다. 이것에 대해 더 자세히 논의할 거예요.



만난 도전이 나를 깊게 파고들게 만들었어요. 기억해주세요, 해결한 모든 문제는 작은 것일지라도 앞으로 한걸음 나아가는 것입니다. 그래서, 다음 단계로 가기 위해 슬라이서 안의 고유 값이 그 키워드를 포함하는 행을 필터링하도록 보장하기 위해 노력했어요.

예를 들어, "subject"라는 필드를 생각해보죠. 값으로 "CO, CN," "CO," "Python," "DAA" 같은 것이 있을 수 있습니다. "CO"를 클릭하면 "CO, CN"과 "CO"를 가진 행을 검색해야 합니다. 이 문제를 해결하기 위해 우리는 해결책을 고안했습니다: 두 개의 열을 가진 테이블을 만드는 것입니다. 한 열은 슬라이서의 고유 값이 들어가고, 다른 하나는 클릭했을 때 표시해야 하는 해당 값이 들어갈 거예요. 그러나, 이 방법은 중복을 생산할 수밖에 없습니다. 이를 해결하기 위해, 두 열을 선택하고 중복된 행을 제거했어요.

![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_3.png)

다음 도전은 이 테이블과 주요 문제가 있는 주 테이블 간의 관계를 설정하는 것이었어요.



테이블을 만들면서 독특한 과제가 있었어요. 해당 테이블에 기본 키가 없었거든요. 데이터의 특성으로 인해 두 열 모두 고유한 값을 가지지 않았죠. 예를 들어, 필드에는 “CO, CN" 및 “CN, CO"와 같은 값이 포함될 수 있었어요. 이러한 상황에서 “CO"는 두 값 모두에 매핑되어야 했고, “CN"도 그렇죠. 두 열 모두 고유한 값이 없는 상황에서 전통적인 기본 키 설정은 불가능했어요. 떠오른 해결책 중 하나는 주 데이터 세트 테이블과 새로 만든 테이블을 많이-대-많이(Many-to-Many) 관계로 연결하는 것이었어요. 그러나 신중한고려 끝에, 이 접근 방식에 대해 결정을 내렸어요. 많이-대-많이 관계는 복잡성을 도입하고 예상치 못한 결과나 성능 문제를 야기할 수 있어요. 데이터 집계를 모호하게 만들며, 데이터 모델을 복잡하게하고, 특히 대규모 데이터 세트에서는 성능에 영향을 미칠 수 있기 때문이죠. 따라서 더 효율적이고 관리하기 쉬운 해결책을 찾기로 했어요.

![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_4.png)

![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_5.png)

# 문제 해결



이전에 언급한 여러 어려움을 극복한 후에, 저는 효율적이고 효과적인 해결책에 도달했습니다. 이 해결책은 데이터 필터링 요구 사항의 복잡성을 해결하면서 내 클라이언트의 요구를 충족하는 간소화된 접근 방식을 제공했습니다. 신중한 실험과 문제 해결을 통해, 작동뿐만 아니라 Power BI 기능에 대한 이해를 향상시키는 방법을 발견했습니다. 이제 솔루션으로 들어가 봅시다.

Power Query 활용하기

Power Query는 데이터 변환 및 데이터 준비 엔진입니다. Power Query에는 소스에서 데이터 가져오는 데 사용하는 그래픽 인터페이스와 변환을 적용하는 Power Query 편집기가 함께 제공됩니다. Power Query를 사용하여 데이터의 추출, 변환 및 로드 (ETL) 처리를 수행할 수 있습니다.

- 슬라이서의 기능에 특별히 맞춘 별도의 테이블을 생성하여 시작했습니다. 이 과정은 슬라이서가 고유한 값을 표시하고 해당 키워드를 포함하는 행만 표시하도록 클릭하는 것을 확인하는 것을 포함했습니다. 이전에 강조했듯이 테이블을 만들 때 데이터를 그대로 복사하거나 중복해서 사용하지 않도록 주의해야 합니다. 그 대신, 데이터의 정확성과 일관성을 유지하기 위해 Power Query의 참조 기능을 사용했습니다. 참조 기능을 사용하면 기존 쿼리의 출력을 참조하는 새로운 쿼리를 생성할 수 있어 데이터의 일관성과 정확성을 보장합니다. 쿼리를 다른 경로로 분기하려는 경우 좋은 선택지입니다. 한 경로는 일련의 단계를 따르고, 다른 경로는 다른 단계를 따르고, 두 경로가 원본 쿼리의 일부 단계를 공유하는 경우에 유용합니다.



<img src="/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_6.png" />

- 새 테이블을 생성한 후에는 다양한 기술을 활용하여 변형하였습니다. 불필요한 열을 제거하고 필요한 열만 유지하며, 열을 복제하고 구분자로 열을 분할하여 여러 값을 고려했습니다. 그 후에 두 열을 선택하고 중복 행을 제거했습니다. 이 과정을 통해 키워드와 해당 값이 정확하게 매핑된 필요한 매핑 테이블이 생성되었고, 데이터 조직화와 검색을 효율적으로 지원하게 되었습니다.

<img src="/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_7.png" />

- 매핑 테이블을 생성한 후에는 다대다 관계를 처리하는 것이 정확한 데이터 분석을 보장하기 위해 필수적임을 알게 되었습니다. 따라서 Power BI 모델에 다리 테이블을 도입했습니다. 이 다리 테이블은 주 테이블 필드의 모든 고유한 값들을 포함하며, 매핑 테이블과 주 테이블 사이의 중요한 링크 역할을 합니다. 다리 테이블은 데이터 모델 내의 다대다 관계를 해결하는 데 중요한 역할을 합니다. 이를 위해 매핑 테이블과 주 테이블 둘 다와 일대다 관계를 설정합니다. 두 연결하는 테이블의 주요 필드의 고유한 조합을 포함합니다. 이러한 관계를 통해 주 테이블과 매핑 테이블 간의 직접 필터링이 가능해지며, 전체 모델 전반에 걸쳐 데이터가 일관되고 신뢰할 수 있도록 보장됩니다.



<img src="/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_8.png" />

효과적인 Power BI 모델링을 통한 관계 구축

모델링은 분석과 시각화를 위해 데이터를 구조화하고 조직화하는 과정을 말합니다. 데이터를 다양한 소스에서 가져오고 분석적 요구에 맞게 조성하며, 테이블 간의 관계를 수립하고 DAX를 사용하여 계산을 정의하며, 시각화를 디자인하는 등의 작업을 포함합니다. 효과적인 모델링을 통해 데이터가 논리적으로 구성되고 관계가 정확하게 표현되며, 인사이트가 명확하게 제시되어 의사 결정에 도움이 되는 방향으로 제공됩니다.

- 주 테이블과 브릿지 테이블 사이에 다대일 관계를 설정했습니다.
- 브릿지 테이블과 맵핑 테이블 사이에 일대다 관계를 구현하여, 맵핑 테이블에서 주 테이블로의 원활한 필터링을 용이하게 하였습니다. 이 선택이 중요한 이유는, 양방향 선택을 하지 않으면 필터링이 브릿지 테이블에서 맵핑 테이블로 제한되어 클라이언트의 기대와 일치하지 않는 필터링 동작이 발생할 수 있었기 때문입니다. Power BI의 양방향 관계는 연결된 테이블 사이에서 필터링이 양방향으로 흐를 수 있도록 합니다. 이는 주 테이블이나 관련 테이블에서 필터링을 적용할 때 다른 테이블에도 영향을 미치게 됩니다. 이 양방향 필터링 흐름은 관련된 테이블 간에 관련 데이터가 정확하게 표시되어 데이터 분석 및 시각화 능력을 향상시켜 더 많은 통찰력 있는 의사 결정을 이끌어냅니다.



![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_9.png)

Power View

- 매핑 테이블에서 단일 값 열을 최종 보고서 내 슬라이서에 통합하여 원활하게 고객 요구 사항을 충족시키고 기대대로 최적의 기능성을 보장했습니다.

![이미지](/assets/img/2024-05-15-FilteringComplexDatawithPowerBIACaseStudy_10.png)



# 결론

마치 *Power BI*의 데이터 필터링 과제를 해결해 나가는 것은 학습 기회와 통찰력으로 가득한 여정이었습니다. 보이는 것이 간단한 작업으로 시작했지만, 실제로는 데이터 모델링, 관계 설정 및 시각화 디자인의 복잡성에 대한 심층적인 탐구로 이어졌습니다. 중간에 여러 어려움을 만나면서, 단일 필드에서 여러 값을 처리하는 것부터 다대다 관계를 해결하는 데까지 다양한 장애물을 겪었습니다. 그러나 각각의 도전은 *Power BI*의 기능을 탐색하고 혁신적인 해결책을 개발하는 기회로 이어졌습니다.

데이터 변환을 위해 *Power Query*를 활용하고, 효과적인 모델링을 통해 효율적인 관계를 설정하고, *Power View* 슬라이서를 활용하여 상호 작용성을 향상시키는 방법으로 데이터 필터링 도전을 성공적으로 극복할 수 있었습니다. 제안한 솔루션은 클라이언트의 요구를 충족시키는 데뿐만 아니라 *Power BI*의 기능과 모범 사례에 대한 이해를 확장시키는 데 도움이 되었습니다.

도전을 받아들이고 우리가 보유한 도구와 기술을 활용하면 가장 고집 센 데이터 장애물도 극복할 수 있습니다. 데이터 탐색 및 분석 여정을 계속하면서, 해결한 각 문제는 성장과 학습의 기회임을 기억합시다. 앞으로도 많은 성공적인 데이터 모험을 기대합니다!



이 사례 연구는 다양한 데이터 시나리오를 처리하는 데 Power BI의 강력함과 다재다능성을 강조하여 이러한 장벽을 극복하기 위한 가능한 한 가지 방법을 소개합니다. 또한 DAX(Data Analysis Expressions)를 활용하여 더 효율적이고 맞춤화된 솔루션을 탐색하는 등 더 많은 가능성을 탐색합니다.

LinkedIn에서 저와 연결하고 더 많은 기사를 읽어보세요. 이제 제 여정의 시작이며, 여러분도 함께하고 싶습니다!