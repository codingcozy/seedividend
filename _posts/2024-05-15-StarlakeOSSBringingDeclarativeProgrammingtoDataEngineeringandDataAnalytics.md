---
title: "별호수 OSS 데이터 엔지니어링과 데이터 분석에 선언적 프로그래밍을 제공하다"
description: ""
coverImage: "/assets/img/2024-05-15-StarlakeOSSBringingDeclarativeProgrammingtoDataEngineeringandDataAnalytics_0.png"
date: 2024-05-15 11:17
ogImage: 
  url: /assets/img/2024-05-15-StarlakeOSSBringingDeclarativeProgrammingtoDataEngineeringandDataAnalytics_0.png
tag: Tech
originalTitle: "Starlake OSS: Bringing Declarative Programming to Data Engineering and Data Analytics"
link: "https://medium.com/starlake/starlake-oss-bringing-declarative-programming-to-data-engineering-and-data-analytics-cef1ed079d2d"
---


# 소개

Ansible 및 Terraform과 같은 도구를 통해 선언적 프로그래밍이 등장한 것은 개발자들이 코드 실행 순서를 지정하지 않고 의도한 목표를 달성할 수 있게 해서 인프라 배포를 혁신적으로 변경했습니다.

이러한 패러다임 변화는 오류율 감소, 개발 주기 단축, 코드 가독성 향상 및 모든 수준의 개발자들을 위한 접근성 향상과 같은 혜택을 가져오게 됩니다.

이것은 작은 개발팀이 선언적 접근 방식을 적용하여 데이터 추출, 로딩, 변환, 조정에 대한 기존의 데이터 엔지니어링 경계를 넘어선 플랫폼을 만들어낸 이야기입니다.



![2024-05-15-StarlakeOSSBringingDeclarativeProgrammingtoDataEngineeringandDataAnalytics_0](/assets/img/2024-05-15-StarlakeOSSBringingDeclarativeProgrammingtoDataEngineeringandDataAnalytics_0.png)

# 시작

2015년, ebiznext의 세심한 데이터 엔지니어링 회사에서 한 가지 어려운 과제를 직면했습니다. 강력한 빅데이터 솔루션을 필요로 하는 유명한 고객이 하둡과 스파크의 힘을 이용하려 했습니다. 우리는 20명의 작은 규모에도 불구하고 (100,000명 이상의 인원수를 가진) 산업 거물과 경쟁하기로 결심했습니다.

성공하기 위한 유일한 기회는 혁신이었습니다: 산업 거물들이 밀어올리는 전통적인 ETL 솔루션을 지수적으로 능가할 수 있는 데이터 플랫폼이 필요했습니다. 이 GUI 기반 ETL을 사용해 데이터 파이프라인을 구축하려면 원본의 수와 복잡성에 비례하는 노력이 필요합니다.



일반적으로 따르는 규칙을 깨기 위해, 우리는 DevOps 친화적인 플랫폼을 개발하기 위한 여정에 나섰습니다. 이 플랫폼은 모든 소스로부터 빠르게 데이터를 수집할 수 있는 기능을 갖추고 있습니다. 또한 ETL 또는 전문 엔지니어링 기술의 단점은 없습니다.

입찰 날, 몇 달이 아닌 몇 주 안에 데이터를 로드할 수 있는 솔루션을 제공할 수 있는 능력 덕분에 경쟁사와 차별화되어 프로젝트를 수주할 수 있었습니다.

# 에피소드 1: 스마트레이크의 등장

"스마트레이크를 만들 때의 기본 아이디어는 데이터 품질이 데이터를 로드한 후에 확인되면 데이터 웨어하우스가 깔끔한 상태로 유지될 수 없으며, 이러한 데이터 로드 전 품질 검사는 데이터 소유자가 처리해야 한다는 것이었습니다."



왼쪽으로 기울어진 선언적 접근을 받아들일 수밖에 없는 이유가 되었습니다. 비즈니스 사용자들을 강화시키면서, 데이터 형식과 변환을 간단한 JSON 파일로 설명할 수 있는 시스템을 고안했습니다. Smartlake는 단순한 코드 생성기가 아니었으며, 다양한 데이터 형식을 원활하게 수용하고, 변환을 실행하며, 비교할 수 없는 효율로 작업을 조율하는 다재다능한 엔진이었습니다.

사용자 상호작용을 간소화하기 위해 직관적인 Excel-to-JSON 변환기를 고안해 입력 형식을 쉽게 지정할 수 있도록 했습니다. Smartlake와 그 선언적 접근 덕분에 비즈니스 사용자들은 몇 분 안에 로드와 변환 작업을 정의할 수 있었습니다.

Smartlake의 특징

- 거의 모든 파일 형식(CSV, JSON, XML, FIXED WITH, 다중 레코드 유형, kafka 토픽 등) 로드
- 사용자 정의 스키마 및 의미론적 유형을 사용하여 필드 유효성 검사
- 로드되는 데이터에 대해 변환을 즉석으로 적용( GDPR, 정규화, 계산 필드 추가) 및 스키마 진화 여부와 상관없이
- Spark, Kafka, Elasticsearch 등 대부분의 대상에 싱크



# 에피소드 2: 스타레이크로의 진화

"스타레이크의 기본 아이디어는 서버리스 서비스와 클라우드 데이터웨어하우스 기능을 활용하여 Smartlake의 모든 이점을 클라우드로 가져오면서 개발 및 실행 비용을 최소화하는 것이었습니다."

데이터 환경이 발전함에 따라 우리의 비전도 발전했습니다. 클라우드 데이터 웨어하우스가 Spark에 대한 쿼리 실행에 대한 강력한 경쟁자로 등장했습니다. 이러한 변화를 인식하고 Smartlake를 Starlake로 발전시켰습니다. Starlake는 YAML을 통해 가독성을 향상시키면서 선언적인 본질을 보존했습니다. 우리는 Spark의 뛰어난 기능을 유지하여 데이터 수집을 위해 단일 또는 여러 컨테이너 내에서 실행하고 쿼리 실행을 위해 클라우드 데이터 웨어하우스를 활용했습니다.

이 전략적인 조합을 통해 특정 워크로드 요구에 기반한 성능 및 비용 효율성을 최적화할 수 있었습니다. 결과적으로 클라우드 시대에 맞춘 재구상된 플랫폼이 탄생했으며, 그 본질은 효율과 간결함에 기반을 둔 것으로 정의되었습니다.



별호 발표 결과물은 Github에서 찾을 수 있는 Starlake OSS 프로젝트입니다.

Starlake의 기능은 여기 자세히 설명되어 있습니다.

# Starlake 뒤에 숨은 사람들

Starlake의 전신인 Smartlake는 다수의 개인들의 노력에 의해 생겼지만, 특별한 기여를 한 몇몇 사람들이 두드러지게 돋보입니다:



- 샘 베살라: 샘의 참여로 다른 사람들을 동원하는 것이 쉬워졌습니다. 그의 선도적인 전망과 복잡성을 단순하게 만들어내는 재능은 혁신적이었으며, 구현에 새로운 표준을 정했습니다.
- 올리비에 지라루: 모든 팀에는 코딩 마법사가 있고, 올리비에는 그 역할을 완벽하게 수행했습니다. Spark 코드 생성(CodeGen)을 활용하여 마트료시카와 같은 수학적 프레임워크를 탐험함으로써 팀을 멘토링하는 것을 넘어서 경계를 넓혔습니다. 그의 전문 지식은 Docker, Ansible, Python, Scala 및 Spark 내부까지 이어졌습니다.
- 발란탱 카사스: 발란탱은 Scala에서 함수형 프로그래밍을 주창했습니다. 재귀 구조와 같은 개념을 소개함으로써 팀이 기능적이면서도 우아하고 유지보수 가능한 코드를 작성할 수 있도록 자유롭게 했습니다.

구름을 향한 여정이 진행됨에 따라 오랜 기간 데이터 전문가들이 합류하여 스타레이크를 오늘날의 모습으로 만들었습니다:

- 스테판 만시오: 에어플로우와 다그스터 위에 스타레이크의 선언적 워크플로우를 개발한 개발자로, 이를 통해 운영의 중추를 형성하는 데 결정적 역할을 했습니다.
- 붕콩 캄푸손: 스타레이크의 추출 및 로드 엔진의 속도와 효율성은 그의 기여에 많이 의존합니다.
- 시릴 셰퍼로: 코드베이스 최적화의 달인으로, 시릴의 코드 재작업 노력은 스타레이크 API의 재진입성을 확보하는 데 중요했습니다.
- 압델하미드 이라리브: 로드 엔진에 조기 기여를 한 인물로, 이처럼 선견지명과 실행 능력은 플랫폼의 현재 능력에 중요한 영향을 미쳤습니다.
- 모하마드 카시르: 고객 프로젝트에 직접 참여하고 클라우드 플랫폼 및 비즈니스 요구 사항에 대한 심도 있는 지식을 확보한 그의 능력은 스타레이크의 진화에 큰 장점이 됐습니다.

오늘날 매일 수천 개의 테이블로 변환되어 수천 개의 데이터 웨어하우스에 매일 수백 기가바이트의 데이터가로드되는 것을 자신 있게 스타레이크는 가장 까다로운 데이터 엔지니어링 및 분석 도전에 대비할 준비가 되어 있다고 말할 수 있습니다.



스타레이크는 지금 그리고 항상 오픈 소스입니다. 지원하는 커뮤니티 구축에 참여해 주세요. 여러분의 의견과 기능 요청은 환영받을 뿐만 아니라 우리 로드맵을 이끕니다.

스타레이크를 시작해보세요:

- 다른 기능을 살펴보세요.
- 문서를 살펴보세요.

GitHub에서 저희 커뮤니티에 참여해 주세요.



제발 이 저장소에 별을 주세요: https://github.com/starlake-ai/starlake. Starlake 관련 문제나 개선사항이 있으면 언제든지 알려주세요. 물론 친절한 관리 대상이 될 겁니다.