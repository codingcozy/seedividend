---
title: "나의 우주 테마 Threejs 포트폴리오 사이트를 위해 사용자 정의 이질 변위 맵을 만드는 방법"
description: ""
coverImage: "/assets/img/2024-05-15-HowICreatedCustomDisplacementMapsforMySpace-ThemedThreejsPortfolioSite_0.png"
date: 2024-05-15 02:55
ogImage: 
  url: /assets/img/2024-05-15-HowICreatedCustomDisplacementMapsforMySpace-ThemedThreejsPortfolioSite_0.png
tag: Tech
originalTitle: "How I Created Custom Displacement Maps for My Space-Themed Three.js Portfolio Site"
link: "https://medium.com/javascript-in-plain-english/how-i-created-custom-displacement-maps-for-my-space-themed-three-js-portfolio-site-642b52700941"
---


## 온라인에서 무료로 사용할 수 있는 미리 제작된 변위 맵의 부족에 놀라웠습니다. 나만의 변위 맵을 만들기가 얼마나 쉬운지에 더욱 놀랐죠.

포트폴리오 사이트 작업 중 변위 맵과 관련된 흥미로운 문제를 만났습니다.

잠깐 설명하자면, 일반적으로 그래픽을 다룰 때, 특히 Three.js 메쉬와 함께 작업할 때, 메쉬의 속성을 변경하기 위해 다양한 종류의 맵을 사용할 수 있습니다. 이 중 가장 간단한 것은 컬러 맵으로, 이 맵의 픽셀은 메쉬에 매핑됩니다. 제가 사용한 것과 같이 구 형상 기하학을 사용하는 경우, 컬러 맵을 구의 기하학적 형상을 장식하는 포장지와 같은 역할로 생각할 수 있습니다.

간단히 말해, 변위 맵은 각 픽셀의 밝기가 해당 정점의 기하학적 형상을 얼마나 (맞죠!) 변위시킬지 결정하는 회색조 이미지입니다. Three.js 메쉬에 사용할 수 있는 다른 많은 종류의 맵이 있으며 다양한 목적으로 사용할 수 있습니다. Three의 MeshStandardMaterial 문서는 더 자세히 알아보고 싶다면 좋은 참고 자료입니다.



내 옵션을 살펴본 후, 무작위로 생성된 소행성과 내가 만든 행성 중 하나에서 현실감을 더하기 위해 변위 매핑을 사용하기로 결정했습니다. 그러나 비교적 쉽게 찾을 수있는 좋은 색상 지도와는 다르게, 내가 필요로 하는 변위 맵을 찾기 어려웠습니다. 무료로 사용할 수 있는 옵션을 찾기는 더욱 어려웠습니다. 다행히도, 살짝 기발하고 실험을 통해 나만의 방법을 발견할 수 있었습니다.

내 속임수에 대한 자세한 내용을 예고 없이 알려드리기 전에 두 가지 중요한 주의사항이 있습니다:

1. 이 방법이 당신의 사용 사례에 맞지 않을 수 있습니다. 나는 이러한 변위 맵을 매우 특정한 목적으로 만들었습니다. 즉, 그것들이 다소 무작위로 보이면서 동시에 암석 형태의 비교적 부드러운 미학을 보존하기 위함이었습니다. 사용 방법은 개인에 따라 다를 수 있습니다.

2. 이 방법은 아마도 여러분이 찾을 수 있는 가장 우아한 방법은 아닐 것입니다. 나보다 3D 모델링 및 애니메이션 분야에 더 정통한 사람들이나 돈을 들이고 싶어하는 사람들을 위해 더 깔끔한 솔루션이 있을 것입니다. 포토샵을 사용하여 처음부터 변위 맵을 만들 수 있습니다. Blender와 같은 도구를 사용하여 완전한 3D 모델을 만들거나 처음부터 변위 매핑에 의존하지 않고도 가능합니다. 그리고 제가 그 품질이나 가치를 검증할 수 없지만, 미리 제작된 변위 맵을 찾는 동안 상당한 가격으로 판매하고 있는 몇 개의 사이트도 발견했습니다.



그렇게 해결을 마치고 난 다음, 무료로 그리고 어떠한 화려한 도구도 사용하지 않고 빠르게 나만의 암석 변위 지도를 만드는 방법을 소개할게요:

1. 유료 변위 지도의 워터마크 미리보기를 발견한 후 Google Lens를 사용하여 비슷한 이미지를 무료로 찾았어요. 솔직히 말해서 이 시점에서 정확히 무엇을 찾고 있는지 정확히 모르겠었어요. 주로 나에게 적합한 변위 지도가 어떻게 생겼는지 탐색하고, 유료 지도의 미리보기에서 시작하는 것이 꽤 괜찮아 보였어요. 되돌아보면, 실제로는 그렇게 중요하지 않았어요. 가장 중요한 것은 흑백 이미지이며 흥미롭게 유지할 만큼 충분한 밝기 다양성을 가지고 있어야 했어요. 여기서 제 과정을 따르고 자신만의 변위 지도를 만들기 위해 이 글을 읽는다면, 이 단계를 건너뛰고 무료로 사용할 수 있는 흑백 이미지를 선택하거나 아래 제가 제공하는 이미지 중 하나를 사용할 수 있어요.

2. 좋은 후보 이미지로 보이는 몇 장의 이미지를 골랐어요. 또한 선택한 몇 장의 이미지를 기반으로 새 Lens 검색을 실행했어요. 마지막으로 좁힌 두 가지 이미지는 화성의 협곡을 보여주는 퍼블릭 도메인 이미지와 우연히도 화성 상의 소금 함유물에 관한 NASA 이미지였어요.

3. 이미지를 자르고 정사각형으로 만들고 합리적인 해상도로 크기를 조정했어요, 512x512 픽셀. 일반적으로 맵은 정사각형이어야 하며, 높이/너비는 2의 거듭제곱이어야 해요. 대부분의 응용 프로그램에서 512x512가 충분할 것이며, 세부사항을 희생하지 않으면서도 성능을 향상시키기 위해 256x256까지 낮출 수도 있어요.

4. 이미지의 1/4를 다른 이미지로 복사했어요. 실제로 사용한 변위 지도 중 하나에만 이렇게 한 적이 있어요. 처음에는 지표 면에 어떠한 이음선도 나타나지 않도록 하기 위해 이렇게 했어요. 이론적으로, 맵을 다룰 때, 이미지의 왼쪽 색과 오른쪽 색이 완전히 일치해야 하기 때문에 경계가 이상하게 보이지 않아야 해요. 실제로, 두 번째 맵에 이 단계를 건너뛰어보았고 결과는 완전히 괜찮았어요.

5. 각 이미지 상단과 하단에 수평선을 추가했어요. 이유는 이전 단계와 비슷하지만, 이번에는 이 작업이 상당히 중요했어요. 이미지의 상단과 하단 가장자리 픽셀의 밝기가 완벽하게 일치하지 않으면, 구와의 극에 눈에 띄는 효과가 나타날 수 있어요. 이 시점에서 맵은 다음과 같이 보였어요:

6. 이미지를 흐리게 해 왜곡을 완화했어요. 5단계 후에 만족스러운 진행을 이룬 것에 대해 만족스러웠지만, 결과물이 원하는 대로 이루어진 것 같지 않았어요. 행성과 소행성 표면의 버팀목은 분명히 눈에 띄었지만, 취향에 너무 뾰족하고 울퉁불퉁했어요. (가시적인 왜곡을 찾고 있다면, 이 단계를 건너뛰어보세요.) Blur의 각 이미지에 대해 다른 레벨의 흐림을 실험했고, 골디락스 영역에 도달할 때까지 계속해보았어요. 이미지를 흐리게 하기 과정에서 선을 다시 추가해야 했는데, 이미지의 희미화 과정에서 선들이 흡수되었기 때문이었어요.



## 그리고 요렇게! 두 개의 좋은 작은 왜곡 지도가 나왔어요:

내가 정확히 필요한 것을 위해 기능하는 방법을 안내받아 기쁨으로 가득 찼어. 당신이 원한다면 네 자신의 프로젝트에 사용해도 괜찮아.

## 완성된 사이트에서 암석 행성과 소행성이 어떻게 보이는지 확인해보세요.

## 프로젝트의 소스 코드를 확인해보세요



이 기사는 저가 개발한 소셜 블로깅 사이트 COACSS에서 2022년 8월 28일에 원래 게시되었습니다.

# 간단한 영어로 🚀

In Plain English 커뮤니티의 일원이 되어 주셔서 감사합니다! 떠나시기 전에:

- 작가를 클랩하고 팔로우해주세요 ️👏️️
- 팔로우하기: X | LinkedIn | YouTube | Discord | Newsletter
- 다른 플랫폼 방문: Stackademic | CoFeed | Venture | Cubed
- PlainEnglish.io에서 더 많은 콘텐츠를 확인해보세요