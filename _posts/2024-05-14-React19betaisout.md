---
title: "리액트 19 베타 버전이 출시되었어요"
description: ""
coverImage: "/assets/img/2024-05-14-React19betaisout_0.png"
date: 2024-05-14 11:17
ogImage: 
  url: /assets/img/2024-05-14-React19betaisout_0.png
tag: Tech
originalTitle: "React 19 beta is out!"
link: "https://medium.com/@hassan.djirdeh/react-19-beta-is-out-4d41aa1d4eee"
---


<img src="/assets/img/2024-05-14-React19betaisout_0.png" />

React 19 베타가 출시되었습니다. React 생태계에 독특한 업데이트와 기능을 가져왔어요. 이번 글에서는 React 19가 가져온 새로운 Hooks 및 API를 살펴보며, 이러한 변경 사항이 앞으로 React 애플리케이션 개발하는 방식을 개선할 수 있는 방법을 알아볼 거에요.

이 글은 "대용량 앱 구축" 뉴스레터 커뮤니티에 보내는 첫 정보 제공 자료입니다. 뉴스레터에서는 대규모 웹 애플리케이션을 구축하고 유지하는 데 중점을 둔 프론트엔드 엔지니어링과 JavaScript 기술에 관한 콘텐츠를 공유합니다.

저희가 공유하는 일부 콘텐츠는 코드 변경 및 API 향상에 더 초점을 맞출 거에요 (이와 같은 글 같죠!), 다른 콘텐츠는 대규모 웹 애플리케이션을 다루는 산업에서 종사하는 경험이 풍부한 엔지니어들의 경험, 사례 연구 또는 통찰력 있는 일화를 공유할 거에요.



이런 문제들을 이메일로 받아보려면 구독해주세요!

## React 19

React 19가 2024년 4월 25일에 공식 베타 릴리스로 무대에 등장했습니다. 이 새로운 버전에는 새로운 Hooks 및 API, React 서버 컴포넌트, 일부 만료된 React API의 제거 등 다양한 변경 사항이 포함되어 있습니다. 오늘의 이슈에서는 주로 React 19가 소개한 흥미로운 새로운 Hooks 및 API를 살펴볼 것입니다.

React 19는 아직 베타 버전이며 주로 라이브러리 개발자를 대상으로 만들어졌습니다. 이들은 새로운 변경 사항에 대해 실험하고 라이브러리를 적응시키기 위해 업그레이드해야 합니다. 일반 앱 개발자들은 React 18.3로 업그레이드하고 React 19의 안정 버전을 기다리는 것이 좋습니다. React 19로 업그레이드하는 더 자세한 정보는 React 팀이 제공한 React 19 베타 업그레이드 가이드를 확인할 수 있습니다.



# 양식 제출 및 낙관적 업데이트

지금날 웹 애플리케이션을 사용하는 방법 중 상당 부분은 사용자 인증부터 데이터 제출, 전자 상거래 거래, 피드백 수집, 검색 쿼리 등 다양한 목적의 양식과 상호 작용하는 것에 관련되어 있습니다. 그 결과로 React 컴포넌트 개발에서 매우 흔한 행동 중 하나는 양식 제출을 처리하고 제출될 때 양식이 무엇을 해야 하는지의 비동기 업데이트를 다루는 것입니다.

이러한 비동기 업데이트를 처리하는 양식 컴포넌트의 간단한 예시는 다음과 같이 보일 수 있습니다:

![예시 이미지](/assets/img/2024-05-14-React19betaisout_1.png)



위 예제에서 Component는 양식의 상태를 관리하고 양식 제출을 비동기적으로 처리합니다. 제출 후 submitForm() 함수는 서버로 양식 정보를 제출하고 응답을 반환합니다. 컴포넌트는 상태를 업데이트하여 제출 프로세스에 대한 사용자 피드백을 표시합니다.

React 18에서 UI를 비긴요하지 않은 방식으로 한 뷰에서 다른 뷰로 전환하는 개념을 전환으로 명명했습니다. React 19는 이제 비동기 전환에서 async 함수를 사용할 수 있으며 useTransition Hook을 사용하여 비동기 데이터 검색 중에 로딩 지시자나 플레이스홀더를 관리할 수도 있습니다.

# 작업

React 19에서 비동기 전환을 사용하는 기능은 작업으로 더 이상 발전되었으며, 비동기 전환을 사용하는 함수를 작업이라고 합니다. 위에서 본 것처럼 사용하기 위해 useActionState Hook과 같은 몇 가지 전문화된 Hook이 있으며, 첫 번째로 살펴볼 것은 useActionState Hook입니다.



## useActionState

useActionState() 훅은 세 가지 매개변수를 받습니다:

- "action" 함수는 폼 액션이 트리거될 때 실행됩니다.
- 초기 상태 객체는 사용자 상호작용 전에 폼의 시작 상태를 설정합니다.
- [옵션] 이 폼을 수정하는 고유 페이지 URL을 가리키는 퍼머링크입니다.

그리고 튜플로 세 가지 값을 반환합니다:



- 현재 양식의 상태.
- 양식 동작을 트리거하는 함수.
- 동작이 진행 중인지를 나타내는 부울 값.

![이미지](/assets/img/2024-05-14-React19betaisout_2.png)

useActionState Hook에 첫 번째 인자로 전달된 작업 함수는 양식을 제출할 때 트리거되고, 양식 제출이 성공하거나 오류가 발생할 때 전환할 양식 상태를 반환합니다. 이 함수는 두 개의 매개변수를 받습니다 - 현재 양식의 상태와 작업이 트리거된 시점의 양식 데이터입니다.

다음은 작업() 함수를 만드는 예시입니다. 이 함수는 가상의 submitForm() 함수를 호출하고 이후에 서버로 양식 데이터를 제출하는 API 호출을 트리거합니다. 작업이 성공하면, 다음 양식 상태를 나타내는 양식 상태 객체를 반환합니다. 작업이 실패하면, 사용자가 문제를 해결하는 데 도움이 될 수 있는 오류 메시지 또는 표시기를 포함한 오류 상태를 반영하는 양식 상태 객체를 반환합니다.



<img src="/assets/img/2024-05-14-React19betaisout_3.png" />

저희가 설정한 useActionState() 훅으로, 폼 상태, 디스패치 및 보류 중인 값들을 폼 템플릿에서 사용할 수 있습니다.

## `form` 액션

React 19에서는 `form` 요소에 이제 action 속성이 있어서, 폼을 제출할 때 트리거될 수 있는 액션 함수를 받을 수 있습니다. 여기에서는 useActionState() 훅에서 디스패치 함수를 전달할 것입니다.




![React 19 beta is out](/assets/img/2024-05-14-React19betaisout_4.png)

폼 템플릿에서 상태를 표시하고 isPending 값 사용하여 비동기 액션이 처리 중임을 사용자에게 전달할 수 있습니다.

![React 19 beta is out](/assets/img/2024-05-14-React19betaisout_5.png)

이렇게 하면, React의 이러한 새로운 변경 사항으로 인해 폼에서 비동기 전환을 다룰 때 처리 중인 상태, 오류 및 순차 요청을 수동으로 처리할 필요가 없어집니다. 대신, 이러한 값들은 useActionState() Hook에서 직접 액세스할 수 있습니다.




## useFormStatus

리액트 19는 useFormStatus라는 새로운 훅을 소개합니다. 이 훅은 중첩된 자식 컴포넌트가 그들이 위치한 폼에 대한 정보에 액세스할 수 있게 해줍니다 (마치 폼이 컨텍스트 제공자인 것처럼).

![이미지](/assets/img/2024-05-14-React19betaisout_6.png)

부모 폼 정보에 액세스하는 행동은 컨텍스트를 통해 수행할 수 있지만, 리액트 19에서는 useFormStatus 훅을 소개하여 중첩된 컴포넌트 내에서 폼 데이터를 처리하는 일반적인 경우를 훨씬 쉽게 만들었습니다.



## useOptimistic

useOptimistic() 훅은 React 19에서 추가된 또 다른 새로운 훅입니다. 네트워크 요청과 같은 백그라운드 작업이 완료될 때 낙관적 업데이트를 수행할 수 있습니다. 이를 통해 사용자 상호작용에 빠른 응답을 제공하여 사용자 경험을 향상시킬 수 있습니다.

아래는 부모에서 전달된 메시지 상태 속성을 관리하기 위해 useOptimistic() 훅을 사용하는 예시입니다.

![img](/assets/img/2024-05-14-React19betaisout_7.png)



위의 컴포넌트 예시에서는 useOptimistic Hook을 사용하여 메시지 상태를 낙관적으로 업데이트하는 것을 관리합니다. 이 상태는 prop으로 전달됩니다.

사용자가 "Add Message" 버튼을 클릭하여 폼을 제출하면 submitForm() 함수가 트리거됩니다. 메시지를 업데이트하기 위한 API 요청을 시작하기 전에, 새 메시지 값을 폼 데이터에서 얻어 setOptimisticMessage() 함수가 호출됩니다. 이렇게 하면 즉시 UI가 낙관적인 변경을 반영하여 사용자에게 즉각적인 피드백을 제공합니다.

업데이트가 완료되거나 오류가 발생하면 React가 자동으로 메시지 prop 값으로 전환됩니다.

# 새로운 API 사용



React 19에서는 Promise 또는 context와 같은 리소스에서 값을 읽는 다재다능한 방식으로 새 use API가 소개되었습니다.

예를 들어, context 값을 읽으려면 단순히 context를 use()에 전달하면 함수가 컴포넌트 트리를 탐색하여 가장 가까운 context 제공자를 찾습니다.

![이미지](/assets/img/2024-05-14-React19betaisout_8.png)

useContext() Hook과 달리, use() 함수는 조건문과 루프 내에서 컴포넌트에서 사용할 수 있습니다!




![React19betaisout_9](/assets/img/2024-05-14-React19betaisout_9.png)

use()도 Suspense와 에러 경계와 매끄럽게 통합됩니다. 프라미스를 읽기 위해서(React 문서의 서버에서 클라이언트로 데이터 스트리밍에서 더 자세히 참조).

# React 서버 컴포넌트

React 서버 컴포넌트는 React 19에서 소개되는 새로운 기능으로, 서버에서 실행되는 상태 없는 React 컴포넌트를 만들 수 있게 해줍니다. 이러한 컴포넌트는 클라이언트 응용 프로그램이나 서버 측 렌더링 서버와 다른 환경에서 번들링되기 전에 미리 실행됩니다.




리액트 서버 컴포넌트는 웹 서버에서 실행할 수 있기 때문에 API와 상호 작용하지 않고도 데이터 레이어에 액세스할 수 있어요!

![이미지](/assets/img/2024-05-14-React19betaisout_10.png)

정말 멋지죠! 이를 통해 API 엔드포인트를 노출할 필요가 없고, 데이터를 컴포넌트로 직접로딩하기 위해 추가적인 클라이언트 측 fetching 로직을 사용할 필요가 없어요. 모든 데이터 처리는 서버에서 이루어져요.

서버 컴포넌트는 서버에서 실행되며 브라우저에서 실행되지 않습니다. 결과적으로 이러한 컴포넌트들은 useState와 같은 전통적인 리액트 컴포넌트 API를 사용할 수 없어요. 리액트 서버 컴포넌트 환경에 상호 작용성을 도입하기 위해서는 서버 컴포넌트와 상호 작용을 처리하기 위한 클라이언트 컴포넌트들을 결합해야 해요.



위의 블로그 포스트 예시를 계속하면, 이런 식으로 Comment 컴포넌트가 상태(state)와 상호작용을 포함하는 클라이언트 컴포넌트로 렌더링된다는 것을 보여줄 수 있습니다.

![이미지](/assets/img/2024-05-14-React19betaisout_11.png)

위 예시에서 컴포넌트 파일의 맨 위에 "use client"를 선언하는 것에 유의하세요. React 서버 컴포넌트와 작업할 때, "use client"는 해당 컴포넌트가 클라이언트 컴포넌트임을 나타냅니다. 이는 상태를 관리하고 사용자 상호작용을 처리하며 브라우저별 API를 사용할 수 있는 것을 의미합니다. 이 지시어는 명시적으로 React 프레임워크와 번들러에게 이 컴포넌트를 서버에서 실행되는 상태 없는 서버 컴포넌트와 구분하여 다르게 취급하도록 알려줍니다.

그 반대로 React 서버 컴포넌트는 기본값이기 때문에 서버 컴포넌트 파일의 맨 위에 "use server"를 명시하지 않습니다. 대신에 "use server"는 클라이언트 컴포넌트에서 호출할 수 있는 서버 측 함수를 표시하는 데에 사용되어야 합니다. 이것을 서버 액션(Server Actions)이라고 합니다.



React Server Components는 React 애플리케이션 구조를 변경하여 클라이언트와 서버 간의 관심사를 분리합니다. React 팀은 그들이 결국 광범위하게 채택되고 React 애플리케이션을 구축하는 방법을 변화시킬 것이라고 믿고 있습니다. 이 순간, 저희는 "Building Large Scale Web Apps" 책에 추가할 새로운 장 "React in 2024"의 일환으로 React Server Components를 깊이 파헤치고 있습니다. 이에 대해 더 많은 정보를 곧 공유할 예정입니다!

이 기사를 즐겼다면? 이 뉴스레터를 직접 받아보기 위해 https://largeapps.substack.com에서 구독하세요.

React 19의 새로운 기능에 대한 자세한 내용과 베타 버전을 시도하는 방법에 대해서는 공식 React 문서의 React 19 베타 설명서를 확인해보세요.