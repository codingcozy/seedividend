---
title: "2024년 두보이 도전 R 프로그래밍 활용 방법"
description: ""
coverImage: "/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_0.png"
date: 2024-05-16 03:58
ogImage: 
  url: /assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_0.png
tag: Tech
originalTitle: "2024 Du Bois Challenge using R Programming."
link: "https://medium.com/illumination/2024-du-bois-challenge-using-r-programming-02af8afa5626"
isUpdated: true
---




![2024 Du Bois Challenge](/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_0.png)

## #2024DuBoisChallenge을 되돌아보며

올해는 2월 5일부터 4월 8일까지 진행된 2024 Du Bois Challenge에 참여하고 싶었습니다. 처음에는 10주 동안 꾸준히 기여할 것을 예상하지 않았습니다. 다행히도 이번 챌린지는 매주 한 번의 게시물만 요구했기 때문에 매주 한 개의 플롯을 작업할 시간을 주었습니다. 챌린지 관련 리포지토리는 여기에서 확인할 수 있습니다. 총 10개 중 7개의 차트를 완성했습니다. 주차별로 실력이 향상되고 있다는 것을 깨달았습니다. R만을 사용하여 챌린지를 성공적으로 완료할 수 있을 거라고는 생각하지 않았습니다. 그러나 tidyverse와 ggplot 패키지는 모든 플롯에 사용되었습니다.

![2024 Du Bois Challenge Result](/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_1.png)



도전 과제의 주제는 팬 아프리카 국기의 색상을 중심으로 구성되었습니다:
도전 1-3: 빨강,
도전 4-6: 검정,
도전 7-9: 녹색,
도전 10: 혼합.
안소니 스타크의 글에 따르면, 디 부아 도전의 아이디어는 앨런 힐러리와 세쿠 타일러리가 나왔습니다. 2021년 2월 초에 앨런과 세쿠는 안소니 스타크에게 선택된 디 부아 시각화를 재현하고 작품을 온라인으로 공유하는 온라인 도전의 아이디어를 제안했습니다. 이 도전의 목표는 W.E.B 디 부아의 데이터 시각화 유산을 축하하는 것이었는데, 그는 흑인 미국 인권 운동가, 사회학자 및 작가로, 1900년 파리 박람회에서의 시각화를 현대 도구를 사용해 재현했습니다. 그는 또한 NAACP를 설립하는 데 도움을 주었습니다.

모든 시각화(원본 및 내 재현본)과 해당 데이터는 이미 안소니 스타크의 GitHub 저장소에서 수집되어 있어, 나는 도전을 위한 특별한 디렉터리를 만들었습니다.

올해 도전은 Data Visualisation Society slack 채널에 자신의 작품을 게시한 일관적인 기여자들을 위한 상을 제공했습니다. 10주 동안 일관적으로 제출한 기여자들은 1년간의 DVS 회원 자격(99달러 가치) 또는 Nightingale 잡지(40달러 가치)를 획득했습니다.

이 글에 포함된 모든 재현 이미지는 저자가 작성했습니다.



## 도전 01 _주 01, 2월 5일— 조지아 주의 흑인 인구, 1870년, 1880년 (플레이트 06)

도전 01에서는 1870년과 1880년 데이터셋을 사용하여 조지아의 두 지도를 작성하기 시작했습니다. 지도 패키지를 사용하여 조지아 주의 군을 가져오기 위해, 1880년과 1870년 데이터셋의 군 이름은 지도 패키지의 조지아 지역 이름과 소문자로 변경하여 병합해야 했습니다. 또한 인구 값은 표준화되고, 인구 수에 따라 색으로 부호화되었습니다.

두 범례는 10 x 12 플롯을 사용하여 텍스트 주석을 통해 만들었습니다. 그런 다음 cowplot 패키지를 사용하여 plot_grid() 함수를 사용하여 플롯을 결합했습니다. 배경 색상은 "papayawhip"로 설정되었습니다.

<img src="/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_2.png" />



## 도전과제 02_week02, 2월 12일 — 노예와 해방된 흑인 (plate 12)

도전의 다음 주에는 텍스트 글꼴을 "mono"로 변경해야 한다는 것을 깨달았어요. 이것은 원본 플레이트와 더 비슷하게 보였어요. 나는 이 글꼴을 나머지 플롯에 사용했어요.

도전 02 데이터셋을 사용하여 geom_line() 함수를 사용하여 그림을 통해 선을 그렸어요. 검정색과 빨간색 영역을 음영 처리하기 위해 geom_ribbon() 함수를 사용하여 데이터 포인트의 범위나 범위를 표시했어요. 아래 코드 블록에 표시된 것처럼 geom_ribbon 함수 내에서 ymin은 리본의 하한을 나타내고 ymax는 상한을 나타냅니다. Free와 Inf는 변수입니다. 데이터는 NULL로 설정되었습니다. 왜냐하면 데이터가 이미 ggplot의 도전 02 데이터셋으로 설정되었기 때문이에요. 채우는 색상은 검정색과 빨간색으로 설정되었고, 알파는 채우는 색상의 투명도를 지정합니다. 불행히도, 플롯에서 흰색 선을 표시하지 않았고, 외부 텍스트가 플롯에 표시되었어요.

```js
#geom_ribbon은 플롯에서 검정색과 빨간색 영역을 설정
geom_ribbon(data = NULL, aes(ymin = Free, ymax = Inf), fill = "black", alpha = 0.5) +
geom_ribbon(data = NULL, aes(ymin = -Inf, ymax = Free), fill = "red", alpha = 0.5)
```



![image](/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_3.png)

## Challenge 05_week 05, March 4 — 조지아의 인종 융합 (plate 13)

챌린지 05는 모든 주 중 코드 라인이 가장 짧았습니다. 챌린지 05 데이터셋은 세 가지 값이 있어 플롯이 간단합니다.

geom_bar() 함수에서 위치를 "stack"으로 설정하고 카테고리별로 막대를 채웠습니다. 세 개의 텍스트 주석은 각각의 카테고리 오른쪽에 추가되었습니다.



<img src="/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_4.png" />

## Challenge 07_week 07, March 18 - 다른 국가들과 비교한 미국 흑인의 무문맹률(판 47)

Challenge 07에서 사용된 데이터셋은 다른 국가들의 인구 값으로 막대 그래프를 만들기 쉽게했습니다. 그러나 coord_flip() 함수를 사용해 수평 막대 그래프로 완성하였습니다.

<img src="/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_5.png" />



## Challenge 08주 8일, 3월 25일 — 1세대에서 노예에서 자유로움으로 네그로들의 부상 (plate 50)

Challenge 08 차트를 만들기 위해, 1890년과 1860년 데이터가 사용되었고 이를 새로운 데이터프레임으로 만들어 두 개의 쌓인 막대 플롯으로 시작했습니다. Challenge 05와 달리 이 쌓인 막대 차트에서는 coord_flip() 함수를 사용하지 않았습니다. 막대 차트 위에 굵은 글자로 년도가 주석 달린 상태입니다. 두 플롯 사이의 텍스트는 4 x 4 플롯을 사용하여 생성되었습니다.

plot_grid() 함수를 사용하여 세 플롯을 모두 결합했습니다. 1890년 플롯의 높이를 1860년 플롯보다 높게 조정하여 재현을 완료했습니다. 플롯을 최종화한 후 1860년과 1890년 플롯 사이의 점선을 삽입하지 않았다는 것을 발견했습니다. 솔직히 말해서, 난 지긋지긋해서 그 점선을 추가할 엄두가 나지 않았어요..ㅋㅋ.



## 도전 09_week 09, 4월 1일 — 자유인과 노예의 비율 (plate 51)

제 도전 09 차트 재현에서는 geom_area() 함수를 사용하여 두 가지 카테고리, 즉 자유인과 노예의 상태를 채웠습니다. 도전 09 데이터셋은 넓은 형식에서 긴 형식으로 변환해야 했습니다. 특히 범주형 변수를 다룰 때나 한 그래프에 여러 변수를 플로팅하는 등 특정 유형의 분석과 시각화에는 데이터를 긴 형식으로 작업하는 것이 더 쉽다고 생각했습니다. 또한, 자유인과 노예 카테고리의 각 점에 숫자 주석을 추가했습니다.

![도전 09 차트](/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_7.png)

## 도전 10_week 10, 4월 8일 — 미국 거주 플로리다 흑인의 자손들의 상황을 보여주는 통계 차트 일련화 (plate 37)



도전의 마지막 주에는, 너무 복잡해 보여서 마지막 차트를 만들 수 있을 것이라고 생각하지 않았어요. 플롯을 만드는 내 단계는 다음과 같아요.  

**단계 1** — 이전 플롯들과 동일하게, 내 도전 10은 각 디자인을 만들기 위해 여러 플롯을 사용했어요. 전부터 사용해온 지도 패키지를 사용하여 모든 주(State)에 색을 입혀 네 개의 주위 텍스트 어노테이션을 만들었어요.

**단계 2** — 파이 차트 데이터 세트는 원하는 레이아웃을 얻기 위해 정렬이 필요했지만, 어떻게든 원래의 플레이트와 정확히 일치하지는 않았어요. 두 개의 10x12 플롯을 사용하여 파이 차트 양쪽에 있는 색이 칠해진 원형 범례를 만들었어요. 밑에 있는 텍스트 어노테이션에는 5x12 플롯을 사용하여 텍스트를 추가했어요.

**단계 3** — 플롯을 결합할 때, 제목과 부제목을 하나의 플롯으로 시작했어요. 그리고 지도 플롯을 주위 텍스트 어노테이션과 함께 결합하여 다른 플롯을 만들었어요. 파이 차트에 두 개의 범례 및 아래 텍스트 어노테이션을 추가하여 세 번째 플롯을 만들었어요. 이 세 가지 플롯을 모두 합칠 때, 페파야 휩(연한 주황색)을 배경색으로 사용하여 모든 플롯을 통일시키고 차트 아래에 캡션을 추가했어요.



<img src="/assets/img/2024-05-16-2024DuBoisChallengeusingRProgramming_8.png" />

도전에 참여해서 R을 사용하여 만들 수 있는 가능성을 배울 수 있었어요. 일부 차트를 재현하지 못했지만 업무에 바쁜 나날이었기 때문에, 나는 내가 한 일을 Slack 채널에 공유하고 다른 참여자들로부터 좋은 피드백을 받아서 기뻤어요. 또한 cowplot 패키지가 patchwork보다 더 강력한 결합 도구라는 것을 배웠어요. 내 의견으로는 이것을 사용하면 그림을 맞추기 위해 폭과 높이를 많이 조정해야 해요. 다음 해에는 도전을 완수할 수 있기를 희망하며, 그 재현물이 원본 플레이트에 더 가깝게 보일 수 있기를 기대합니다.