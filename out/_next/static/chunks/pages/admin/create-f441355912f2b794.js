(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{2497:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/create",function(){return a(396)}])},2862:function(t,e,a){"use strict";var n=a(5893);a(7294);var r=a(8896),o=a.n(r),s=a(7166),c=a.n(s),i=a(4696),l=a(1163),d=a(9008),_=a.n(d);c().bind(o());let u=t=>{let{type:e,post:a,project:r}=t,o=(0,l.useRouter)();return"post"===e&&a?(0,n.jsxs)(_(),{children:[(0,n.jsx)("title",{children:"".concat(a.title," | ").concat(i.px)}),(0,n.jsx)("meta",{name:"description",content:a.description}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{property:"og:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:site_name",content:"".concat(a.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:title",content:"".concat(a.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:description",content:a.description,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:image",content:a.ogImage.url,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:locale",content:i.l$.ko,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:domain",content:"https://".concat(i.px,".github.io/"),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:title",content:"".concat(a.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:description",content:a.description,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:image",content:a.ogImage.url,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:data1",content:"Dev | ".concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"article:published_time",content:a.date,"data-gatsby-head":"true"})]}):"project"===e&&r?(0,n.jsxs)(_(),{children:[(0,n.jsx)("title",{children:"".concat(r.title," | ").concat(i.px)}),(0,n.jsx)("meta",{name:"description",content:r.description}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{property:"og:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:site_name",content:"".concat(r.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:title",content:"".concat(r.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:description",content:r.description,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:image",content:r.ogImage.url,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:locale",content:i.l$.ko,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:domain",content:"https://".concat(i.px,"/"),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:title",content:"".concat(r.title," | ").concat(i.px),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:description",content:r.description,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:image",content:r.ogImage.url,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"article:published_time",content:r.date,"data-gatsby-head":"true"})]}):(0,n.jsxs)(_(),{children:[(0,n.jsx)("title",{children:i.px}),(0,n.jsx)("meta",{name:"description",content:i.vk.ko}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{property:"og:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:type",content:"website","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:site_name",content:i.px,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:title",content:i.px,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:description",content:i.vk.ko,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:image",content:"/favicons/ms-icon-310x310.png","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"og:locale",content:i.l$.ko,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image","data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:domain",content:"https://".concat(i.px,"/"),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{property:"twitter:url",content:"".concat(i._O,"/").concat(o.asPath),"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:title",content:i.px,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:description",content:i.vk.ko,"data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:image",content:"/favicons/ms-icon-310x310.png","data-gatsby-head":"true"}),(0,n.jsx)("meta",{name:"twitter:data1",content:"Dev | ".concat(i.px),"data-gatsby-head":"true"})]})};e.Z=u},4696:function(t,e,a){"use strict";a.d(e,{En:function(){return i},S7:function(){return s},_O:function(){return o},l$:function(){return n},px:function(){return r},vk:function(){return c}});let n={ko:"ko_KR",en:"en_US",ja:"ja_JP"},r="Seedividend",o="https://seedividend.com/",s="Seedividend",c={ko:"".concat(r," 의 블로그 입니다."),en:"I develop websites, games and apps with HTML, CSS and JS.",ja:"HTML、CSS、JSでウェブサイト、ゲーム、アプリを開発しています。"},i={money:"경제",issue:"이슈",info:"정보"}},396:function(t,e,a){"use strict";a.r(e),a.d(e,{__N_SSG:function(){return m},default:function(){return b}});var n=a(5893),r=a(1163),o=a(7294),s=a(3028),c=a.n(s),i=a(7166),l=a.n(i),d=a(2862),_=a(1664),u=a.n(_);let p=l().bind(c());var m=!0;function b(t){let{categoryList:e}=t,a=(0,r.useRouter)(),[s,c]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),_=(0,o.useRef)(null),[m,b]=(0,o.useState)(e[0]||""),[h,g]=(0,o.useState)(""),[x,j]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[f,N]=(0,o.useState)(!1),[w,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let t=()=>{var t,e;let a=(null===(t=document.querySelector(".".concat(p("editor_header"))))||void 0===t?void 0:t.clientHeight)||0,n=(null===(e=document.querySelector(".".concat(p("editor_footer"))))||void 0===e?void 0:e.clientHeight)||0,r=window.innerHeight,o=document.querySelector(".".concat(p("editor_body")));o&&(o.style.height="".concat(r-a-n-120,"px"))};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,o.useEffect)(()=>{_.current&&(_.current.addEventListener("focus",()=>{_.current&&""===_.current.innerHTML&&(_.current.innerHTML="<p><br></p>")}),_.current.addEventListener("input",()=>{_.current&&l(_.current.innerHTML)}))},[]);let D=async t=>{S(!0);try{let e=new FormData;e.append("image",t);let a=await fetch("http://localhost:3001/api/upload-image",{method:"POST",body:e});if(!a.ok)throw Error("이미지 업로드 실패");let n=await a.json();return n.imageUrl}catch(t){throw console.error("이미지 업로드 오류:",t),t}finally{S(!1)}},L=t=>{t.preventDefault(),t.stopPropagation(),_.current&&_.current.classList.add(p("drag-over"))},E=t=>{t.preventDefault(),t.stopPropagation(),_.current&&_.current.classList.remove(p("drag-over"))},O=async t=>{if(t.preventDefault(),t.stopPropagation(),_.current){_.current.classList.remove(p("drag-over"));let e=Array.from(t.dataTransfer.files),a=e.filter(t=>t.type.startsWith("image/"));if(0!==a.length)for(let t of a)try{let e=await D(t);H(e)}catch(t){k("이미지 업로드 중 오류가 발생했습니다.")}}},T=async t=>{let e=t.clipboardData.items;for(let a=0;a<e.length;a++)if(-1!==e[a].type.indexOf("image")){t.preventDefault();let n=e[a].getAsFile();if(!n)continue;try{let t=await D(n);H(t)}catch(t){k("이미지 업로드 중 오류가 발생했습니다.")}break}},H=t=>{if(!_.current)return;let e=window.getSelection();if(!e||!e.rangeCount)return;let a=e.getRangeAt(0),n=document.createElement("img");n.src=t,n.className=p("editor-image"),a.insertNode(n),a.setStartAfter(n),a.collapse(!0),e.removeAllRanges(),e.addRange(a),l(_.current.innerHTML)},P=async()=>{if(!s.trim()){k("제목을 입력해주세요.");return}if(!i||"<p><br></p>"===i){k("내용을 입력해주세요.");return}try{N(!0),k("");let t=s.toLowerCase().replace(/[^a-zA-Z0-9가-힣\s]/gi,"").replace(/\s+/g,"-"),e={title:s,content:i,category:m,description:h,coverImage:x,slug:t,tags:y.split(" ").filter(t=>t.startsWith("#")),date:new Date().toISOString()};console.log(e);let n=await fetch("http://localhost:3001/api/create-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){let t=await n.json();throw Error(t.message||"포스트 생성에 실패했습니다.")}await n.json(),alert("포스트가 성공적으로 생성되었습니다."),a.push("/admin")}catch(t){console.error("Error creating post:",t),k(t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.")}finally{N(!1)}},M=()=>{document.execCommand("bold",!1),_.current&&l(_.current.innerHTML)},I=()=>{document.execCommand("italic",!1),_.current&&l(_.current.innerHTML)},A=()=>{document.execCommand("underline",!1),_.current&&l(_.current.innerHTML)},R=()=>{document.execCommand("strikethrough",!1),_.current&&l(_.current.innerHTML)},J=t=>{document.execCommand("justify".concat(t),!1),_.current&&l(_.current.innerHTML)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{type:"home"}),(0,n.jsxs)("div",{className:p("container"),children:[(0,n.jsxs)("div",{className:p("editor_header_bar"),children:[(0,n.jsx)("div",{className:p("editor_header_left"),children:(0,n.jsx)(u(),{href:"/admin",className:p("logo"),children:"SeedDividend"})}),(0,n.jsxs)("div",{className:p("editor_toolbar"),children:[(0,n.jsxs)("button",{type:"button",className:p("toolbar_btn"),onClick:()=>{},title:"본문2",children:[(0,n.jsx)("span",{children:"본문2"}),(0,n.jsx)("span",{className:p("dropdown_arrow"),children:"▾"})]}),(0,n.jsx)("span",{className:p("toolbar_divider")}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:M,title:"굵게",children:(0,n.jsx)("span",{className:p("toolbar_icon","bold"),children:"B"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:I,title:"기울임",children:(0,n.jsx)("span",{className:p("toolbar_icon","italic"),children:"I"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:A,title:"밑줄",children:(0,n.jsx)("span",{className:p("toolbar_icon","underline"),children:"U"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:R,title:"취소선",children:(0,n.jsx)("span",{className:p("toolbar_icon","strikethrough"),children:"T"})}),(0,n.jsx)("span",{className:p("toolbar_divider")}),(0,n.jsxs)("div",{className:p("toolbar_btn_group"),children:[(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:()=>J("Left"),title:"왼쪽 정렬",children:(0,n.jsx)("span",{className:p("toolbar_icon","align-left"),children:"≡"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:()=>J("Center"),title:"가운데 정렬",children:(0,n.jsx)("span",{className:p("toolbar_icon","align-center"),children:"≡"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),onClick:()=>J("Right"),title:"오른쪽 정렬",children:(0,n.jsx)("span",{className:p("toolbar_icon","align-right"),children:"≡"})})]}),(0,n.jsx)("span",{className:p("toolbar_divider")}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),title:"인용구",children:(0,n.jsx)("span",{className:p("toolbar_icon","quote"),children:"❞"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),title:"링크",children:(0,n.jsx)("span",{className:p("toolbar_icon","link"),children:"\uD83D\uDD17"})}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),title:"이미지",children:(0,n.jsx)("span",{className:p("toolbar_icon","image"),children:"\uD83D\uDCF7"})}),(0,n.jsx)("span",{className:p("toolbar_divider")}),(0,n.jsxs)("button",{type:"button",className:p("toolbar_btn"),title:"목록",children:[(0,n.jsx)("span",{className:p("toolbar_icon","list"),children:"•"}),(0,n.jsx)("span",{className:p("dropdown_arrow"),children:"▾"})]}),(0,n.jsx)("button",{type:"button",className:p("toolbar_btn"),title:"구분선",children:(0,n.jsx)("span",{className:p("toolbar_icon","horizontal-rule"),children:"—"})})]}),(0,n.jsx)("div",{className:p("editor_header_right"),children:(0,n.jsxs)("button",{className:p("header_action_btn"),children:["기본 모드",(0,n.jsx)("span",{className:p("dropdown_arrow"),children:"▾"})]})})]}),(0,n.jsxs)("div",{className:p("editor_container"),children:[(0,n.jsxs)("div",{className:p("editor_header"),children:[(0,n.jsxs)("div",{className:p("category_select_container"),children:[(0,n.jsx)("select",{value:m,onChange:t=>b(t.target.value),className:p("category_select"),disabled:f,children:e.map(t=>(0,n.jsx)("option",{value:t,children:t},t))}),(0,n.jsx)("div",{className:p("select_arrow")})]}),(0,n.jsx)("input",{type:"text",value:s,onChange:t=>c(t.target.value),className:p("title_input"),placeholder:"제목을 입력하세요",disabled:f})]}),(0,n.jsxs)("div",{className:p("editor_body"),children:[(0,n.jsx)("div",{ref:_,className:p("content_editor",{uploading:C}),contentEditable:!0,onDragOver:L,onDragLeave:E,onDrop:O,onPaste:T,placeholder:"내용을 입력하세요...",suppressContentEditableWarning:!0}),C&&(0,n.jsx)("div",{className:p("upload_overlay"),children:"이미지 업로드 중..."})]}),(0,n.jsxs)("div",{className:p("editor_footer"),children:[(0,n.jsx)("div",{className:p("tag_input_container"),children:(0,n.jsx)("input",{type:"text",value:y,onChange:t=>v(t.target.value),className:p("tag_input"),placeholder:"#태그입력",disabled:f})}),(0,n.jsxs)("div",{className:p("editor_tools"),children:[(0,n.jsxs)("div",{className:p("tool_buttons"),children:[(0,n.jsxs)("button",{className:p("tool_btn"),children:[(0,n.jsx)("span",{className:p("tool_icon"),children:"\uD83D\uDCC4"})," 미리보기"]}),(0,n.jsxs)("button",{className:p("tool_btn"),children:[(0,n.jsx)("span",{className:p("tool_icon"),children:"\uD83D\uDD0D"})," 맞춤법 검사"]}),(0,n.jsxs)("button",{className:p("tool_btn"),children:[(0,n.jsx)("span",{className:p("tool_icon"),children:"\uD83D\uDCCE"})," 글꼴열기"]})]}),(0,n.jsxs)("div",{className:p("action_buttons"),children:[(0,n.jsx)("button",{className:p("draft_btn"),disabled:f,children:"임시저장"}),(0,n.jsx)("button",{className:p("publish_btn"),onClick:P,disabled:f||C,children:f?"저장 중...":"완료"})]})]})]}),w&&(0,n.jsx)("div",{className:p("error_toast"),children:w})]})]})]})}},8896:function(t){t.exports={section_title:"CustomHead_section_title__QQBnD"}},3028:function(t){t.exports={container:"create_container__JEzV6",editor_header_bar:"create_editor_header_bar__CRK0s",editor_header_left:"create_editor_header_left__bFuZJ",logo:"create_logo__pAiLE",editor_toolbar:"create_editor_toolbar__LP8M7",toolbar_btn:"create_toolbar_btn__4XlLO",toolbar_icon:"create_toolbar_icon__UQvjX",bold:"create_bold__pvlxn",italic:"create_italic__PwtVA",underline:"create_underline__s1Mh_",strikethrough:"create_strikethrough__1tNic",toolbar_divider:"create_toolbar_divider__7VmtW",toolbar_btn_group:"create_toolbar_btn_group__IObQ4",dropdown_arrow:"create_dropdown_arrow__xRr_B",editor_header_right:"create_editor_header_right__oag3p",header_action_btn:"create_header_action_btn__9WbmI",editor_container:"create_editor_container__5xk_B",editor_header:"create_editor_header__MB7ON",top_actions:"create_top_actions__c1jjm",back_btn:"create_back_btn__rezqk",page_title:"create_page_title__xL81i",category_select_container:"create_category_select_container___BB8k",category_select:"create_category_select__CHtVY",select_arrow:"create_select_arrow__LkC1j",title_input:"create_title_input__7Jnyt",editor_body:"create_editor_body__4_ti9",content_editor:"create_content_editor__ncrX6","drag-over":"create_drag-over__lDUZF",uploading:"create_uploading__5B5sy",editor_footer:"create_editor_footer__Wy1cp",tag_input_container:"create_tag_input_container__YSKld",tag_input:"create_tag_input__GCuqe",editor_tools:"create_editor_tools__XAO8G",tool_buttons:"create_tool_buttons__yrYi6",tool_btn:"create_tool_btn__JdIkQ",tool_icon:"create_tool_icon__pnSX8",action_buttons:"create_action_buttons__Nm_bJ",draft_btn:"create_draft_btn__t8tmV",publish_btn:"create_publish_btn__ft1Tp",error_toast:"create_error_toast__glYuA",fadeIn:"create_fadeIn__zGanf",toolbar:"create_toolbar__ybjeH"}}},function(t){t.O(0,[564,774,888,179],function(){return t(t.s=2497)}),_N_E=t.O()}]);
//# sourceMappingURL=create-f441355912f2b794.js.map